import{T as y,h as k,W as v,f as r,b as e,a as w,d as I,t as a,u as c,F as m,x as p,g as x,n as C,e as N,p as S,o as t,c as B}from"./app-sd6Qcxhm.js";import L from"./CartTableRow-BqCDMvSP.js";import{u as T}from"./CartStore-y0yjlKn6.js";import{u as V}from"./useFormatDate-GSG2kcEO.js";import"./TextInput-zTQ8n-Yp.js";const D={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},F={class:"p-6 text-gray-900 dark:text-gray-100"},M={class:"text-xl font-medium mb-4"},j={class:"text-2xl mb-1 font-medium uppercase text-cyan-700 font-medium"},H={class:"opacity-75"},O=["innerHTML"],$={key:0,class:"list-disc mb-3 ml-5"},q={class:"w-full text-sm text-left rtl:text-right text-gray-900 dark:text-gray-400"},z=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-100 dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th"),e("th",{scope:"col",class:"p-4 text-xs",style:{width:"260px"}}," Item Name "),e("th",{scope:"col",class:"p-4 text-xs",style:{width:"120px"}}," Quantity "),e("th",{scope:"col",class:"p-4 text-xs"},"Lot No.")])],-1),E=["disabled"],G={__name:"Cart",props:{encounter:{type:Object,required:!0}},setup(s){const{formatDate:b}=V(),u=s,l=T(),o=y({orderItems:[],encounterId:u.encounter.id}),f=()=>{o.orderItems=[...l.orderItems],o.post(route("order-items.store",u.encounter.id),{onSuccess:()=>{o.reset()}})},d=k(()=>Object.values(o.errors));return v(()=>{l.orderedItemsReset()}),(g,i)=>{const h=S("font-awesome-icon");return t(),r("div",D,[e("form",{onSubmit:i[0]||(i[0]=N(n=>f(),["prevent"]))},[e("div",F,[e("h2",M,[w(h,{class:"mr-2",icon:["fas","cart-shopping"]}),I("Cart")]),e("h2",j,a(s.encounter.patient.full_name),1),e("div",H,[e("p",null,a(s.encounter.event_name),1),e("p",null,a(s.encounter.patient.birthdate_str),1),e("p",null,a(s.encounter.patient.sex_str),1),e("p",{class:"mb-8",innerHTML:c(b)(s.encounter.encounter_date)||"-"},null,8,O)]),d.value?(t(),r("ul",$,[(t(!0),r(m,null,p(d.value,(n,_)=>(t(),r("li",{class:"text-sm text-red-500",key:_},a(n),1))),128))])):x("",!0),e("table",q,[z,e("tbody",null,[(t(!0),r(m,null,p(c(l).orderItems,n=>(t(),B(L,{key:n.id,orderedItem:n},null,8,["orderedItem"]))),128))])]),c(l).orderItems.length?(t(),r("button",{key:1,type:"submit",class:C([{"opacity-25 cursor-not-allowed":c(o).processing},"w-full mt-4 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"]),disabled:c(o).processing}," Save ",10,E)):x("",!0)])],32)])}}};export{G as default};
