import{_ as C}from"./AuthenticatedLayout-lFy5hi1G.js";import{T as q,k as T,o as h,f as b,b as e,t as s,a as o,w as i,e as E,u as n,Q as P,B as S,d as _,n as O,F as v,S as R,U as V,l as M,h as D,p as I,Z as j,i as y,x as L,c as Q}from"./app-sd6Qcxhm.js";import{P as U}from"./PrimaryButton-L9Mz8OIw.js";import{_ as F,a as N}from"./Modal-IIhLcokU.js";import{_ as w}from"./InputLabel-XWBjrNUn.js";import{_ as A}from"./TextInput-zTQ8n-Yp.js";import{_ as k}from"./InputError-7hwinrnk.js";import{u as B,S as $}from"./useToast-T2G0XC1y.js";import{u as H}from"./useFormatDate-GSG2kcEO.js";import"./_plugin-vue_export-helper-x3n3nnut.js";const z={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},W={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},Y={class:"px-6 py-4"},Z={class:"px-6 py-4"},G={class:"px-6 py-4 text-right"},J={class:"p-6"},K={class:"text-lg font-medium text-gray-900 border-b pb-2"},X={class:"mt-6"},ee={class:"mt-4"},te={class:"mt-6 flex justify-end"},se={__name:"OrderedItemRow",props:{ordered_item:{type:Object,required:!0}},setup(t){const l=t,r=q({...l.ordered_item}),c=T(!1),{showToast:d}=B();function f(){c.value=!0}function u(){$.fire({title:`Remove ${l.ordered_item.item.name}?`,text:"The selected medicine will be removed from the patient",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#8d99ae",confirmButtonText:"Yes, remove it!"}).then(p=>{p.isConfirmed&&(R.delete(route("orderItems.destroy",l.ordered_item.id)),$.fire({title:"Remove!",text:`${l.ordered_item.item.name} has been removed`,icon:"success"}))})}function x(){c.value=!1,removing.value=!1}const g=()=>{r.put(route("orderItems.update",l.ordered_item.id),{onSuccess:()=>{c.value=!1,d(`${l.ordered_item.item.name} - updated successfully`)}})};return(p,a)=>(h(),b(v,null,[e("tr",z,[e("th",W,s(t.ordered_item.item.name),1),e("td",Y,s(t.ordered_item.quantity),1),e("td",Z,s(t.ordered_item.item.lot_no),1),e("td",G,[e("a",{href:"#",onClick:a[0]||(a[0]=m=>f()),class:"font-medium text-blue-600 dark:text-blue-500 hover:underline"},"Edit"),e("a",{href:"#",onClick:a[1]||(a[1]=m=>u()),class:"font-medium text-red-500 dark:text-red-100 hover:underline ml-3"},"Remove")])]),o(N,{show:c.value,onClose:x,maxWidth:"sm"},{default:i(()=>[e("div",J,[e("h2",K," Edit "+s(t.ordered_item.item.name),1),e("form",{onSubmit:a[4]||(a[4]=E(m=>g(),["prevent"]))},[e("div",X,[e("div",null,[o(w,{for:"quantity",value:"Quantity*"}),o(A,{name:"quantity",id:"quantity",type:"number",class:"mt-1 block w-full",placeholder:" ",modelValue:n(r).quantity,"onUpdate:modelValue":a[2]||(a[2]=m=>n(r).quantity=m),required:"",autocomplete:"quantity"},null,8,["modelValue"]),o(k,{class:"mt-2",message:n(r).errors.quantity},null,8,["message"])]),e("div",ee,[o(w,{for:"instruction",value:"Instruction"}),S(e("textarea",{name:"instruction",id:"instruction",class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",placeholder:" ","onUpdate:modelValue":a[3]||(a[3]=m=>n(r).instruction=m),autocomplete:"instruction"},`\r
            `,512),[[P,n(r).instruction]]),o(k,{class:"mt-2",message:n(r).errors.instruction},null,8,["message"])])]),e("div",te,[o(F,{onClick:x},{default:i(()=>[_(" Cancel ")]),_:1}),o(U,{class:O(["ms-3",{"opacity-25 cursor-not-allowed":n(r).processing}]),disabled:n(r).processing},{default:i(()=>[_(" Update ")]),_:1},8,["class","disabled"])])],32)])]),_:1},8,["show"])],64))}},oe=e("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," Patient Encounter ",-1),ne={class:"text-xs text-gray-500 mt-2"},re=e("span",{class:"text-indigo-500"},"Patients",-1),ae={class:"uppercase text-indigo-500"},de=e("span",null,"Encounter",-1),le={class:"max-w-7xl mx-auto py-12 flex justify-center gap-5"},ie={class:"max-w-2xl flex-1 mx-auto"},ce={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},ue={class:"p-5 border flex gap-5"},me=e("div",{class:"h-28 w-28 bg-gray-300"},null,-1),_e={class:"text-gray-600"},pe={class:"uppercase text-cyan-800 font-bold"},he={class:"p-6 text-gray-900 dark:text-gray-100"},fe=e("td",null,"Event",-1),xe=e("td",{class:"px-5"},":",-1),ge=e("td",null,"Encounter Date",-1),ye=e("td",{class:"px-5"},":",-1),be=["innerHTML"],ve=e("td",null,"Temperature",-1),we=e("td",{class:"px-5"},":",-1),ke=e("td",null,"Blood Pressure",-1),$e=e("td",{class:"px-5"},":",-1),Be=e("td",null,"Respiratory Rate",-1),Ce=e("td",{class:"px-5"},":",-1),qe=e("td",null,"Oxygen Saturation",-1),Te=e("td",{class:"px-5"},":",-1),Ee=e("td",null,"Pulse Rate",-1),Pe=e("td",{class:"px-5"},":",-1),Se={class:"max-w-2xl flex-1 mx-auto"},Oe={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},Re={class:"p-6 text-gray-900 dark:text-gray-100"},Ve={class:"pb-5"},Me={class:"text-xl text-gray-600 font-medium mb-8"},De={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},Ie={class:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400"},je=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"},"Item name"),e("th",{scope:"col",class:"px-6 py-3"},"Quantity"),e("th",{scope:"col",class:"px-6 py-3"},"Lot no."),e("th",{scope:"col",class:"px-6 py-3"},[e("span",{class:"sr-only"},"Edit")])])],-1),Le=e("div",{class:"p-2 py-2.5 hover:shadow-md hover:bg-blue-800 bg-blue-700 text-white uppercase text-sm text-center mt-10 shadow rounded-md"}," Add Orders ",-1),Ge={__name:"Show",props:{encounter:{type:Object,required:!0},ordered_items:{type:Array,required:!0}},setup(t){const{formatDate:l}=H(),{showToast:r}=B(),c=V(),d=t;M(()=>{c.props.flash.message&&r(c.props.flash.message)});const f=D(()=>d.encounter.bp_systolic&&d.encounter.bp_diastolic?`${d.encounter.bp_systolic}/${d.encounter.bp_diastolic}`:"-");return(u,x)=>{const g=I("font-awesome-icon");return h(),b(v,null,[o(n(j),{title:"Create Patient"}),o(C,null,{header:i(()=>[oe,e("p",ne,[o(n(y),{href:u.route("patients.index")},{default:i(()=>[re]),_:1},8,["href"]),_(" > "),o(n(y),{href:u.route("patients.show",d.encounter.patient)},{default:i(()=>[e("span",ae,s(u.$props.encounter.patient.full_name),1)]),_:1},8,["href"]),_(" > "),de,_(" > "),e("span",null,s(d.encounter.event_name),1)])]),default:i(()=>[e("div",le,[e("div",ie,[e("div",ce,[e("div",ue,[me,e("div",_e,[e("p",pe,s(t.encounter.patient.full_name),1),e("p",null,s(t.encounter.patient.sex_str),1),e("p",null,s(t.encounter.patient.birthdate_str),1),e("p",null,s(t.encounter.patient.age_years),1),e("p",null,s(t.encounter.patient.full_address),1)])]),e("div",he,[e("table",null,[e("tr",null,[fe,xe,e("td",null,s(t.encounter.event_name),1)]),e("tr",null,[ge,ye,e("td",null,[e("p",{innerHTML:n(l)(t.encounter.encounter_date)||"-"},null,8,be)])]),e("tr",null,[ve,we,e("td",null,s(t.encounter.temperature||"-"),1)]),e("tr",null,[ke,$e,e("td",null,s(f.value),1)]),e("tr",null,[Be,Ce,e("td",null,s(t.encounter.respiratory_rate||"-"),1)]),e("tr",null,[qe,Te,e("td",null,s(t.encounter.oxygen_saturation||"-"),1)]),e("tr",null,[Ee,Pe,e("td",null,s(t.encounter.pulse_rate||"-"),1)])])])])]),e("div",Se,[e("div",Oe,[e("div",Re,[e("div",Ve,[e("p",Me,[o(g,{class:"mr-2",icon:["fas","bag-shopping"]}),_(" Orders")]),e("div",De,[e("table",Ie,[je,e("tbody",null,[(h(!0),b(v,null,L(t.ordered_items,p=>(h(),Q(se,{ordered_item:p,key:p.id},null,8,["ordered_item"]))),128))])])]),o(n(y),{href:u.route("order-items.create",d.encounter)},{default:i(()=>[Le]),_:1},8,["href"])])])])])])]),_:1})],64)}}};export{Ge as default};
