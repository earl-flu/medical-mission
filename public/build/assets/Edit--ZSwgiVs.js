import{T as E,k as y,l as P,m as x,f as n,a as o,u as a,w as u,F as w,o as m,Z as T,b as e,i as k,d as V,t as c,e as Y,B as _,P as p,x as z,n as A}from"./app-sd6Qcxhm.js";import{_ as C}from"./AuthenticatedLayout-lFy5hi1G.js";import{_ as i}from"./InputError-7hwinrnk.js";import{_ as b}from"./TextInput-zTQ8n-Yp.js";import{_ as d}from"./InputLabel-XWBjrNUn.js";import{u as J}from"./useToast-T2G0XC1y.js";import"./_plugin-vue_export-helper-x3n3nnut.js";const L={class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},O={class:"text-xs text-gray-500 mt-2"},j=e("span",{class:"text-indigo-500"},"Patients",-1),H={class:"uppercase text-indigo-500"},Z=e("span",null,"Edit Patient Details",-1),G={class:"py-12"},K={class:"max-w-2xl mx-auto sm:px-6 lg:px-8"},Q={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},R={class:"p-6 text-gray-900 dark:text-gray-100"},W={class:"text-xl font-bold text-cyan-700 uppercase mb-10"},X={class:"grid md:grid-cols-3 md:gap-6"},ee={class:"relative z-0 w-full mb-6 group"},te={class:"relative z-0 w-full mb-6 group"},ae={class:"relative z-0 w-full mb-6 group"},se={class:"grid md:grid-cols-3 md:gap-6"},oe={class:"relative z-0 w-full mb-6 group"},re=e("option",{value:"",selected:""},null,-1),le=e("option",{value:"Jr."},"Jr.",-1),ie=e("option",{value:"Sr."},"Sr.",-1),de=e("option",{value:"II"},"II",-1),ne=e("option",{value:"III"},"III",-1),ue=e("option",{value:"IV"},"IV",-1),me=e("option",{value:"V"},"V",-1),ce=[re,le,ie,de,ne,ue,me],ge={class:"relative z-0 w-full mb-6 group"},fe=e("option",{value:"0"},"Female",-1),_e=e("option",{value:"1"},"Male",-1),pe=[fe,_e],be={class:"relative z-0 w-full mb-6 group"},he={class:"text-xs font-bold text-blue-500"},ve={class:"grid md:grid-cols-2 md:gap-6"},ye={class:"relative z-0 w-full mb-6 group"},xe=e("option",{value:"",selected:""},"Select Here",-1),we=["value"],ke={class:"relative z-0 w-full mb-6 group"},Ve=["value"],De=["disabled"],$e={__name:"Edit",props:{patient:{type:Object,required:!0},full_name:{type:String,required:!0},cities:{type:Array,required:!0}},setup(h){const{showToast:U}=J(),g=h,t=E({...g.patient}),f=y([]),D=y(""),v=y(null);P(async()=>{B(),I();const l=await axios.get("/api/barangays/"+t.city_id);f.value=l.data}),x(()=>t.city_id,async l=>{if(l){const r=await axios.get("/api/barangays/"+l);f.value=r.data}else f.value=[]}),x(()=>t.sex,l=>{l==1&&(t.is_pregnant=!1)}),x(()=>t.birthdate,I);function I(){const l=t.birthdate;if(l){const r=new Date,s=new Date(l);let S=r.getFullYear()-s.getFullYear();const M=s.getMonth(),F=s.getDate(),q=r.getMonth(),N=r.getDate();(q<M||q===M&&N<F)&&S--,v.value=S}else v.value=null}function B(){const l=new Date().toISOString().split("T")[0];D.value=l}const $=()=>{t.put(route("patients.update",[g.patient.id]),{onSuccess:()=>{U(`${t.first_name}, has been updated`),t.reset()}})};return(l,r)=>(m(),n(w,null,[o(a(T),{title:"Patient Details - Edit"}),o(C,null,{header:u(()=>[e("h2",L,[o(a(k),{href:l.route("patients.edit",g.patient)},{default:u(()=>[V("Edit Personal Details")]),_:1},8,["href"])]),e("p",O,[o(a(k),{href:l.route("patients.index")},{default:u(()=>[j]),_:1},8,["href"]),V(" > "),o(a(k),{href:l.route("patients.show",l.$props.patient)},{default:u(()=>[e("span",H,c(h.full_name),1)]),_:1},8,["href"]),V(" > "),Z])]),default:u(()=>[e("div",G,[e("div",K,[e("div",Q,[e("div",R,[e("h1",W,c(h.full_name)+" - Details",1),e("form",{onSubmit:r[8]||(r[8]=Y(s=>$(),["prevent"]))},[e("div",X,[e("div",ee,[o(d,{for:"first_name",value:"First Name*"}),o(b,{name:"first_name",id:"first_name",type:"text",class:"mt-1 block w-full",placeholder:" ",modelValue:a(t).first_name,"onUpdate:modelValue":r[0]||(r[0]=s=>a(t).first_name=s),required:"",autofocus:"",autocomplete:"first_name"},null,8,["modelValue"]),o(i,{class:"mt-2",message:a(t).errors.first_name},null,8,["message"])]),e("div",te,[o(d,{for:"middle_name",value:"Middle Name"}),o(b,{name:"middle_name",id:"middle_name",type:"text",class:"mt-1 block w-full",placeholder:" ",modelValue:a(t).middle_name,"onUpdate:modelValue":r[1]||(r[1]=s=>a(t).middle_name=s),autofocus:"",autocomplete:"middle_name"},null,8,["modelValue"]),o(i,{class:"mt-2",message:a(t).errors.middle_name},null,8,["message"])]),e("div",ae,[o(d,{for:"last_name",value:"Last Name*"}),o(b,{name:"last_name",id:"last_name",type:"text",class:"mt-1 block w-full",placeholder:" ",modelValue:a(t).last_name,"onUpdate:modelValue":r[2]||(r[2]=s=>a(t).last_name=s),required:"",autofocus:"",autocomplete:"last_name"},null,8,["modelValue"]),o(i,{class:"mt-2",message:a(t).errors.last_name},null,8,["message"])])]),e("div",se,[e("div",oe,[o(d,{for:"suffix",value:"Suffix"}),_(e("select",{name:"suffix",id:"suffix","onUpdate:modelValue":r[3]||(r[3]=s=>a(t).suffix=s),class:"w-full border-gray-300 mt-1 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm"},ce,512),[[p,a(t).suffix]]),o(i,{class:"mt-2",message:a(t).errors.suffix},null,8,["message"])]),e("div",ge,[o(d,{for:"sex",value:"Sex*"}),_(e("select",{name:"sex",id:"sex",required:"","onUpdate:modelValue":r[4]||(r[4]=s=>a(t).sex=s),class:"w-full border-gray-300 mt-1 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm"},pe,512),[[p,a(t).sex]]),o(i,{class:"mt-2",message:a(t).errors.sex},null,8,["message"])]),e("div",be,[o(d,{for:"birthdate",value:"Birthdate*"}),o(b,{name:"birthdate",id:"birthdate",type:"date",class:"mt-1 block w-full",placeholder:" ",modelValue:a(t).birthdate,"onUpdate:modelValue":r[5]||(r[5]=s=>a(t).birthdate=s),required:"",autofocus:"",max:D.value,autocomplete:"birthdate"},null,8,["modelValue","max"]),e("span",he,c(v.value)+" yrs old",1),o(i,{class:"mt-2",message:a(t).errors.birthdate},null,8,["message"])])]),e("div",ve,[e("div",ye,[o(d,{for:"city",value:"Municipality*"}),_(e("select",{name:"city",id:"city","onUpdate:modelValue":r[6]||(r[6]=s=>a(t).city_id=s),required:"",class:"w-full border-gray-300 mt-1 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm"},[xe,(m(!0),n(w,null,z(g.cities,s=>(m(),n("option",{key:s.id,value:s.id},c(s.name),9,we))),128))],512),[[p,a(t).city_id]]),o(i,{class:"mt-2",message:a(t).errors.city},null,8,["message"])]),e("div",ke,[o(d,{for:"barangay",value:"Barangay*"}),_(e("select",{name:"barangay",id:"barangay",required:"","onUpdate:modelValue":r[7]||(r[7]=s=>a(t).barangay_id=s),class:"w-full border-gray-300 mt-1 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm"},[(m(!0),n(w,null,z(f.value,s=>(m(),n("option",{key:s.id,value:s.id},c(s.name),9,Ve))),128))],512),[[p,a(t).barangay_id]]),o(i,{class:"mt-2",message:a(t).errors.barangay},null,8,["message"])])]),e("button",{type:"submit",class:A([{"opacity-25 cursor-not-allowed":a(t).processing},"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"]),disabled:a(t).processing},"Update",10,De)],32)])])])])]),_:1})],64))}};export{$e as default};
