import{k as _,h,l as x,m as f,p as b,o as i,f as p,c as y,g as w,a as d,u as k,w as g,F as m,Z as S,b as t,q as C,v as E,s as P,t as D,e as I}from"./app-CmUxgkoC.js";import{_ as B}from"./AuthenticatedLayout-7q1i4CHE.js";import{C as c,p as z,a as N,A as j,b as F,B as L,c as V,L as $,d as M}from"./chartjs-plugin-datalabels.esm-NcYaoPnb.js";import"./_plugin-vue_export-helper-x3n3nnut.js";const q={class:"chart-container"},A={__name:"EncounterStatisticsChart",props:{eventId:{type:Number,required:!0}},setup(u){const r=u,e=_(null),l=h(()=>({chart:{type:"bar",height:350},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:e.value?e.value.labels:[]},yaxis:{title:{text:"Number of Patients"}},fill:{opacity:1},tooltip:{y:{formatter:function(o){return o+" patients"}}}})),s=h(()=>[{name:"Patient Statistics",data:e.value?e.value.datasets[0].data:[]}]),a=async()=>{try{const n=await(await fetch(route("event.statistics",r.eventId))).json();e.value={labels:["Total Patients","Pediatric Patients","Senior Citizens"],datasets:[{label:"Patient Statistics",data:[n.total_patients,n.total_pedia,n.total_senior_citizen],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)"],borderWidth:1}]}}catch(o){console.error("Error fetching data:",o)}};return x(a),f(()=>r.eventId,o=>{a()}),(o,n)=>{const v=b("apexchart");return i(),p("div",q,[e.value?(i(),y(v,{key:0,width:"100%",height:"350",type:"bar",options:l.value,series:s.value},null,8,["options","series"])):w("",!0)])}}},O=t("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," Dashboard ",-1),T={class:"py-12"},W={class:"w-full mx-auto sm:px-6 lg:px-8 mb-10"},U={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},Z={class:"p-6 text-gray-900 dark:text-gray-100"},G=t("label",{for:"eventFilter"},"Select Event:",-1),H=["value"],J={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},K={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},Q={class:"p-6 text-gray-900 dark:text-gray-100"},R=t("div",{class:"relative z-0 w-full mb-20 group flex gap-5"},null,-1),X=[R],Y=t("div",{class:"flex justify-around"},[t("div",{class:"min-h-24 min-w-48 shadow-md border border-indigo-50 rounded-lg p-5"},[t("p",{class:"uppercase text-xs text-gray-600 font-bold text-gray-500"}," Total Patient ")]),t("div",{class:"min-h-24 min-w-48 shadow-md border border-indigo-50 rounded-lg p-5"},[t("p",{class:"uppercase text-xs text-gray-600 font-bold text-gray-500"}," Pedia ")]),t("div",{class:"min-h-24 min-w-48 shadow-md border border-indigo-50 rounded-lg p-5"},[t("p",{class:"uppercase text-xs text-gray-600 font-bold text-gray-500"}," Senior Citizen ")]),t("div",{class:"min-h-24 min-w-48 shadow-md border border-indigo-50 rounded-lg p-5"},[t("p",{class:"uppercase text-xs text-gray-600 font-bold text-gray-500"}," Pregnant ")])],-1),tt={class:"flex gap-10 mt-20"},et={class:"flex-1 shadow p-4 flex items-center justify-center flex-col gap-4",style:{height:"400px"}},at=t("div",{class:"flex-1 shadow p-4 flex items-center justify-center flex-col gap-4",style:{height:"400px"}},null,-1),st=t("div",{class:"shadow-md p-4 mt-10"},null,-1),lt={__name:"Dashboard",setup(u){c.register(z,N,j,F,L,V,$),c.register(M),c.defaults.set("plugins.datalabels",{color:"#fff"});const r=[{id:1,name:"Event 1"},{id:2,name:"Event 2"},{id:3,name:"Event 3"}],e=_(r[0].id);return(l,s)=>(i(),p(m,null,[d(k(S),{title:"Dashboard"}),d(B,null,{header:g(()=>[O]),default:g(()=>[t("div",T,[t("div",W,[t("div",U,[t("div",Z,[G,C(t("select",{id:"eventFilter","onUpdate:modelValue":s[0]||(s[0]=a=>e.value=a)},[(i(),p(m,null,P(r,a=>t("option",{key:a.id,value:a.id},D(a.name),9,H)),64))],512),[[E,e.value]])])])]),t("div",J,[t("div",K,[t("div",Q,[t("div",null,[t("form",{onSubmit:s[1]||(s[1]=I(a=>l.submit(),["prevent"]))},X,32)]),Y,t("div",tt,[t("div",et,[d(A,{eventId:e.value},null,8,["eventId"])]),at]),st])])])])]),_:1})],64))}};export{lt as default};
