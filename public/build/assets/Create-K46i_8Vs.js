import{m as f,p as B,T as C,x as b,o as u,f as m,a as o,u as s,w as V,F as y,Z as N,b as t,e as $,C as c,D as p,t as v,B as z,g as T,n as J,J as O}from"./app-U2eyw-2X.js";import{_ as R}from"./AuthenticatedLayout-2LxEDThR.js";import{_ as r}from"./InputError-qcPh4HvM.js";import{_ as n}from"./TextInput-g3PJE7K4.js";import{_ as i}from"./InputLabel-xmHjJxBe.js";import{_ as D}from"./Checkbox-0ZJUsb9t.js";import{u as Y}from"./useToast-e6yt6cyz.js";import"./_plugin-vue_export-helper-x3n3nnut.js";import"./sweetalert2.all-2s0S0TEg.js";const A=t("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},"Create Patient",-1),L={class:"max-w-5xl mx-auto py-12 flex justify-center gap-5"},j={class:"max-w-2xl flex-1"},E={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},H={class:"p-6 text-gray-900 dark:text-gray-100"},Z=t("p",{class:"font-bold text-xl"},"Patient Details",-1),G=t("p",{class:"mb-6 text-xs font-medium text-gray-500"}," Fill out this form to add patient",-1),K={class:"grid md:grid-cols-3 md:gap-6"},Q={class:"relative z-0 w-full mb-6 group"},W={class:"relative z-0 w-full mb-6 group"},X={class:"relative z-0 w-full mb-6 group"},ee={class:"grid md:grid-cols-3 md:gap-6"},te={class:"relative z-0 w-full mb-6 group"},se=t("option",{value:"",selected:""},null,-1),ae=t("option",{value:"Jr."},"Jr.",-1),oe=t("option",{value:"Sr."},"Sr.",-1),le=t("option",{value:"II"},"II",-1),re=t("option",{value:"III"},"III",-1),ie=t("option",{value:"IV"},"IV",-1),de=t("option",{value:"V"},"V",-1),ne=[se,ae,oe,le,re,ie,de],ue={class:"relative z-0 w-full mb-6 group"},me=t("option",{value:"0"},"Female",-1),ce=t("option",{value:"1"},"Male",-1),pe=[me,ce],ge={class:"relative z-0 w-full mb-6 group"},_e={class:"text-xs font-bold text-blue-500"},fe={class:"grid md:grid-cols-2 md:gap-6"},be={class:"relative z-0 w-full mb-6 group"},ye=t("option",{value:"",selected:""},"Select Here",-1),ve=["value"],xe={class:"relative z-0 w-full mb-6 group"},he=["value"],we=t("p",{class:"font-bold text-xl mt-10"},"Vital Signs",-1),ke=t("p",{class:"mb-6 text-xs font-medium text-gray-500"}," Fill out this form to add patient",-1),Ve={class:"grid md:grid-cols-3 md:gap-6"},ze={class:"relative z-0 w-full mb-6 group"},De={class:"flex items-center"},Ue=t("span",{class:"ms-2 text-sm text-gray-600 dark:text-gray-400"},"Needs Opto",-1),Se={key:0,class:"relative z-0 w-full mb-6 group"},Ie={class:"flex items-center"},Me=t("span",{class:"ms-2 text-sm text-gray-600 dark:text-gray-400"},"Pregnant",-1),qe={class:"grid md:grid-cols-3 md:gap-6"},Fe={class:"relative z-0 w-full mb-6 group"},Pe={class:"relative z-0 w-full mb-6 group"},Be={class:"relative z-0 w-full mb-6 group"},Ce={class:"grid md:grid-cols-3 md:gap-6"},Ne={class:"relative z-0 w-full mb-6 group"},$e={class:"relative z-0 w-full mb-6 group"},Te={class:"relative z-0 w-full mb-6 group"},Je=["disabled"],Ge={__name:"Create",props:{cities:{type:Array,required:!0},diagnoses:{type:Array,required:!0}},setup(U){const{showToast:S}=Y(),I=U,g=f([]),x=f(""),_=f(null);B(()=>{q()});const e=C({first_name:"",middle_name:"",last_name:"",birthdate:"",sex:"",suffix:null,city_id:"",barangay_id:"",is_opto:!1,is_pregnant:!1,bp_systolic:"",bp_diastolic:"",temperature:"",respiratory_rate:"",oxygen_saturation:"",pulse_rate:""});b(()=>e.city_id,async d=>{if(d){const l=await O.get("/api/barangays/"+d);g.value=l.data}else g.value=[]}),b(()=>e.sex,d=>{d==1&&(e.is_pregnant=!1)}),b(()=>e.birthdate,d=>{if(d){const l=new Date,a=new Date(d);let h=l.getFullYear()-a.getFullYear();const w=a.getMonth(),F=a.getDate(),k=l.getMonth(),P=l.getDate();(k<w||k===w&&P<F)&&h--,_.value=h}else _.value=null});function M(){e.post(route("patients.store"),{onSuccess:()=>{S(`${e.first_name}, has been registered!`),e.reset()}})}function q(){const d=new Date().toISOString().split("T")[0];x.value=d}return(d,l)=>(u(),m(y,null,[o(s(N),{title:"Create Patient"}),o(R,null,{header:V(()=>[A]),default:V(()=>[t("div",L,[t("div",j,[t("div",E,[t("div",H,[Z,G,t("form",{onSubmit:l[16]||(l[16]=$(a=>M(),["prevent"]))},[t("div",K,[t("div",Q,[o(i,{for:"first_name",value:"First Name*"}),o(n,{name:"first_name",id:"first_name",type:"text",class:"mt-1 block w-full",placeholder:" ",modelValue:s(e).first_name,"onUpdate:modelValue":l[0]||(l[0]=a=>s(e).first_name=a),autofocus:"",autocomplete:"first_name"},null,8,["modelValue"]),o(r,{class:"mt-2",message:s(e).errors.first_name},null,8,["message"])]),t("div",W,[o(i,{for:"middle_name",value:"Middle Name"}),o(n,{name:"middle_name",id:"middle_name",type:"text",class:"mt-1 block w-full",placeholder:" ",modelValue:s(e).middle_name,"onUpdate:modelValue":l[1]||(l[1]=a=>s(e).middle_name=a),autofocus:"",autocomplete:"middle_name"},null,8,["modelValue"]),o(r,{class:"mt-2",message:s(e).errors.middle_name},null,8,["message"])]),t("div",X,[o(i,{for:"last_name",value:"Last Name*"}),o(n,{name:"last_name",id:"last_name",type:"text",class:"mt-1 block w-full",placeholder:" ",modelValue:s(e).last_name,"onUpdate:modelValue":l[2]||(l[2]=a=>s(e).last_name=a),required:"",autofocus:"",autocomplete:"last_name"},null,8,["modelValue"]),o(r,{class:"mt-2",message:s(e).errors.last_name},null,8,["message"])])]),t("div",ee,[t("div",te,[o(i,{for:"suffix",value:"Suffix"}),c(t("select",{name:"suffix",id:"suffix","onUpdate:modelValue":l[3]||(l[3]=a=>s(e).suffix=a),class:"w-full border-gray-300 mt-1 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm"},ne,512),[[p,s(e).suffix]]),o(r,{class:"mt-2",message:s(e).errors.suffix},null,8,["message"])]),t("div",ue,[o(i,{for:"sex",value:"Sex*"}),c(t("select",{name:"sex",id:"sex",required:"","onUpdate:modelValue":l[4]||(l[4]=a=>s(e).sex=a),class:"w-full border-gray-300 mt-1 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm"},pe,512),[[p,s(e).sex]]),o(r,{class:"mt-2",message:s(e).errors.sex},null,8,["message"])]),t("div",ge,[o(i,{for:"birthdate",value:"Birthdate*"}),o(n,{name:"birthdate",id:"birthdate",type:"date",class:"mt-1 block w-full",placeholder:" ",modelValue:s(e).birthdate,"onUpdate:modelValue":l[5]||(l[5]=a=>s(e).birthdate=a),required:"",autofocus:"",max:x.value,autocomplete:"birthdate"},null,8,["modelValue","max"]),t("span",_e,v(_.value)+" yrs old",1),o(r,{class:"mt-2",message:s(e).errors.birthdate},null,8,["message"])])]),t("div",fe,[t("div",be,[o(i,{for:"city",value:"Municipality*"}),c(t("select",{name:"city",id:"city","onUpdate:modelValue":l[6]||(l[6]=a=>s(e).city_id=a),required:"",class:"w-full border-gray-300 mt-1 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm"},[ye,(u(!0),m(y,null,z(I.cities,a=>(u(),m("option",{key:a.id,value:a.id},v(a.name),9,ve))),128))],512),[[p,s(e).city_id]]),o(r,{class:"mt-2",message:s(e).errors.city},null,8,["message"])]),t("div",xe,[o(i,{for:"barangay",value:"Barangay*"}),c(t("select",{name:"barangay",id:"barangay",required:"","onUpdate:modelValue":l[7]||(l[7]=a=>s(e).barangay_id=a),class:"w-full border-gray-300 mt-1 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm"},[(u(!0),m(y,null,z(g.value,a=>(u(),m("option",{key:a.id,value:a.id},v(a.name),9,he))),128))],512),[[p,s(e).barangay_id]]),o(r,{class:"mt-2",message:s(e).errors.barangay},null,8,["message"])])]),we,ke,t("div",Ve,[t("div",ze,[t("label",De,[o(D,{name:"remember",checked:s(e).is_opto,"onUpdate:checked":l[8]||(l[8]=a=>s(e).is_opto=a)},null,8,["checked"]),Ue])]),s(e).sex=="0"?(u(),m("div",Se,[t("label",Ie,[o(D,{name:"remember",checked:s(e).is_pregnant,"onUpdate:checked":l[9]||(l[9]=a=>s(e).is_pregnant=a)},null,8,["checked"]),Me])])):T("",!0)]),t("div",qe,[t("div",Fe,[o(i,{for:"temperature",value:"Temperature* (deg)"}),o(n,{name:"temperature",id:"temperature",type:"number",step:"0.1",class:"mt-1 block w-full",placeholder:" ",modelValue:s(e).temperature,"onUpdate:modelValue":l[10]||(l[10]=a=>s(e).temperature=a),required:"",autofocus:"",autocomplete:"temperature"},null,8,["modelValue"]),o(r,{class:"mt-2",message:s(e).errors.temperature},null,8,["message"])]),t("div",Pe,[o(i,{for:"bp_systolic",value:"BP Systolic*"}),o(n,{name:"bp_systolic",id:"bp_systolic",type:"number",class:"mt-1 block w-full",placeholder:"120",modelValue:s(e).bp_systolic,"onUpdate:modelValue":l[11]||(l[11]=a=>s(e).bp_systolic=a),required:"",autofocus:"",autocomplete:"bp_systolic"},null,8,["modelValue"]),o(r,{class:"mt-2",message:s(e).errors.temperature},null,8,["message"])]),t("div",Be,[o(i,{for:"bp_diastolic",value:"BP Diastolic*"}),o(n,{name:"bp_diastolic",id:"bp_diastolic",type:"number",class:"mt-1 block w-full",placeholder:"80",modelValue:s(e).bp_diastolic,"onUpdate:modelValue":l[12]||(l[12]=a=>s(e).bp_diastolic=a),required:"",autofocus:"",autocomplete:"bp_diastolic"},null,8,["modelValue"]),o(r,{class:"mt-2",message:s(e).errors.bp_diastolic},null,8,["message"])])]),t("div",Ce,[t("div",Ne,[o(i,{for:"respiratory_rate",value:"Respiratory Rate"}),o(n,{name:"respiratory_rate",id:"respiratory_rate",type:"number",class:"mt-1 block w-full",placeholder:" ",modelValue:s(e).respiratory_rate,"onUpdate:modelValue":l[13]||(l[13]=a=>s(e).respiratory_rate=a),autofocus:"",autocomplete:"respiratory_rate"},null,8,["modelValue"]),o(r,{class:"mt-2",message:s(e).errors.respiratory_rate},null,8,["message"])]),t("div",$e,[o(i,{for:"oxygen_saturation",value:"Oxygen Saturation (%)"}),o(n,{name:"oxygen_saturation",id:"oxygen_saturation",type:"number",class:"mt-1 block w-full",placeholder:" ",modelValue:s(e).oxygen_saturation,"onUpdate:modelValue":l[14]||(l[14]=a=>s(e).oxygen_saturation=a),autofocus:"",autocomplete:"oxygen_saturation"},null,8,["modelValue"]),o(r,{class:"mt-2",message:s(e).errors.oxygen_saturation},null,8,["message"])]),t("div",Te,[o(i,{for:"pulse_rate",value:"Pulse Rate"}),o(n,{name:"pulse_rate",id:"pulse_rate",type:"number",class:"mt-1 block w-full",placeholder:" ",modelValue:s(e).pulse_rate,"onUpdate:modelValue":l[15]||(l[15]=a=>s(e).pulse_rate=a),autofocus:"",autocomplete:"pulse_rate"},null,8,["modelValue"]),o(r,{class:"mt-2",message:s(e).errors.pulse_rate},null,8,["message"])])]),t("button",{type:"submit",class:J([{"opacity-25 cursor-not-allowed":s(e).processing},"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"]),disabled:s(e).processing},"Submit",10,Je)],32)])])])])]),_:1})],64))}};export{Ge as default};
